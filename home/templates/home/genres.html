{% load static %}
{% load i18n %}

<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700;800;900&family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="{% static 'css/home/genres.css' %}">

<title>{% trans 'ì¥ë¥´' %} - GALATEA</title>


</head>

<body>
    <!-- ë°°ê²½ ì›ë“¤ -->
    <div class="circle-bg circle-1"></div>
    <div class="circle-bg circle-2"></div>
    <div class="circle-bg circle-3"></div>
    <div class="circle-bg circle-4"></div>
    <div class="circle-bg circle-5"></div>
    
    <!-- í—¤ë” -->
    <header>
        {% if not user.is_authenticated %}
            {% include "common/notLoginHeader.html" %}
        {% else %}
            {% include "common/loginHeader.html" %}
        {% endif %}
    </header>

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <div class="main-content">
        <!-- í˜ì´ì§€ í—¤ë” -->
        <div class="page-header">
            <h1 class="page-title">{% trans "ëª¨ë“  ì¥ë¥´" %}</h1>
            <p class="page-subtitle">{% trans "ë‹¤ì–‘í•œ ì¥ë¥´ì˜ AI ìºë¦­í„°ë“¤ì„ ë§Œë‚˜ë³´ì„¸ìš”" %}</p>
        </div>

        <!-- í•„í„° ë° ê²€ìƒ‰ ì„¹ì…˜ -->
        <div class="filters-section">
            <div class="search-container">
                <input type="text" class="search-input" placeholder="{% trans 'ì¥ë¥´ ê²€ìƒ‰...' %}" id="searchInput">
                <div class="search-icon">ğŸ”</div>
            </div>
            
       
            <div class="genre-count">
                <span id="genreCount">{{ genre_list|length }}</span> {% trans "ê°œ ì¥ë¥´" %}
            </div>
        </div>

        <!-- ì¥ë¥´ ê·¸ë¦¬ë“œ -->
        <div class="genres-grid" id="genresGrid">
            
            {% for genre in genre_list %}
            <a href="{% url 'home:genres_detail' genre.id %}">
                <div class="genre-card" data-genre="{{ genre.name|lower }}" onclick="goToGenre('{{ genre.id }}')">
                    <div class="genre-card-image">
                        {% if genre.genre_image %}
                            <img src="{{ genre.genre_image.url }}" alt="{{ genre.name }}">
                        {% else %}
                            <img src="{% static 'images/default_genre.png' %}" alt="{{ genre.name }}">
                        {% endif %}
                    </div>
                    <div class="genre-card-overlay"></div>

                    <div class="genre-card-content">
                        <h3 class="genre-name">{{ genre.name }}</h3>
   
                    </div>
                </div>
            {% empty %}
                <div class="empty-state">
                    <div class="empty-icon">ğŸ“š</div>
                    <div class="empty-message">{% trans "ë“±ë¡ëœ ì¥ë¥´ê°€ ì—†ìŠµë‹ˆë‹¤" %}</div>
                    <div class="empty-submessage">{% trans "ê³§ ë‹¤ì–‘í•œ ì¥ë¥´ê°€ ì¶”ê°€ë  ì˜ˆì •ì…ë‹ˆë‹¤" %}</div>
                </div>
            </a>
            {% endfor %}
        </div>

        <!-- í˜ì´ì§€ë„¤ì´ì…˜ (í•„ìš”í•œ ê²½ìš°) -->
        {% if is_paginated %}
        <div class="pagination">
            {% if page_obj.has_previous %}
                <button class="pagination-btn" onclick="goToPage({{ page_obj.previous_page_number }})">â€¹</button>
            {% endif %}
            
            {% for num in page_obj.paginator.page_range %}
                {% if page_obj.number == num %}
                    <button class="pagination-btn active">{{ num }}</button>
                {% else %}
                    <button class="pagination-btn" onclick="goToPage({{ num }})">{{ num }}</button>
                {% endif %}
            {% endfor %}
            
            {% if page_obj.has_next %}
                <button class="pagination-btn" onclick="goToPage({{ page_obj.next_page_number }})">â€º</button>
            {% endif %}
        </div>
        {% endif %}
    </div>

    <script src="{% static 'js/home/genres.js' %}">

    </script>
</body>
</html>