{% load static %}
{% load i18n %}

<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700;800;900&family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="{% static 'css/home/genres.css' %}">

<title>{% trans '장르' %} - GALATEA</title>


</head>

<body>
    <!-- 배경 원들 -->
    <div class="circle-bg circle-1"></div>
    <div class="circle-bg circle-2"></div>
    <div class="circle-bg circle-3"></div>
    <div class="circle-bg circle-4"></div>
    <div class="circle-bg circle-5"></div>
    
    <!-- 헤더 -->
    <header>
        {% if not user.is_authenticated %}
            {% include "common/notLoginHeader.html" %}
        {% else %}
            {% include "common/loginHeader.html" %}
        {% endif %}
    </header>

    <!-- 메인 콘텐츠 -->
    <div class="main-content">
        <!-- 페이지 헤더 -->
        <div class="page-header">
            <h1 class="page-title">{% trans "모든 장르" %}</h1>
            <p class="page-subtitle">{% trans "다양한 장르의 AI 캐릭터들을 만나보세요" %}</p>
        </div>

        <!-- 필터 및 검색 섹션 -->
        <div class="filters-section">
            <div class="search-container">
                <input type="text" class="search-input" placeholder="{% trans '장르 검색...' %}" id="searchInput">
                <div class="search-icon">🔍</div>
            </div>
            
       
            <div class="genre-count">
                <span id="genreCount">{{ genre_list|length }}</span> {% trans "개 장르" %}
            </div>
        </div>

        <!-- 장르 그리드 -->
        <div class="genres-grid" id="genresGrid">
            
            {% for genre in genre_list %}
            <a href="{% url 'home:genres_detail' genre.id %}">
                <div class="genre-card" data-genre="{{ genre.name|lower }}" onclick="goToGenre('{{ genre.id }}')">
                    <div class="genre-card-image">
                        {% if genre.genre_image %}
                            <img src="{{ genre.genre_image.url }}" alt="{{ genre.name }}">
                        {% else %}
                            <img src="{% static 'images/default_genre.png' %}" alt="{{ genre.name }}">
                        {% endif %}
                    </div>
                    <div class="genre-card-overlay"></div>

                    <div class="genre-card-content">
                        <h3 class="genre-name">{{ genre.name }}</h3>
   
                    </div>
                </div>
            {% empty %}
                <div class="empty-state">
                    <div class="empty-icon">📚</div>
                    <div class="empty-message">{% trans "등록된 장르가 없습니다" %}</div>
                    <div class="empty-submessage">{% trans "곧 다양한 장르가 추가될 예정입니다" %}</div>
                </div>
            </a>
            {% endfor %}
        </div>

        <!-- 페이지네이션 (필요한 경우) -->
        {% if is_paginated %}
        <div class="pagination">
            {% if page_obj.has_previous %}
                <button class="pagination-btn" onclick="goToPage({{ page_obj.previous_page_number }})">‹</button>
            {% endif %}
            
            {% for num in page_obj.paginator.page_range %}
                {% if page_obj.number == num %}
                    <button class="pagination-btn active">{{ num }}</button>
                {% else %}
                    <button class="pagination-btn" onclick="goToPage({{ num }})">{{ num }}</button>
                {% endif %}
            {% endfor %}
            
            {% if page_obj.has_next %}
                <button class="pagination-btn" onclick="goToPage({{ page_obj.next_page_number }})">›</button>
            {% endif %}
        </div>
        {% endif %}
    </div>

    <script src="{% static 'js/home/genres.js' %}">

    </script>
</body>
</html>