{% load static %} 

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë§ˆì´í˜ì´ì§€ - GALATEA</title>
    <link rel="stylesheet" href="{% static 'css/mypage/my_voice.css' %}">

</head>
<body>
    <div class="sidebar">
        <h1>ë§ˆì´í˜ì´ì§€</h1>
        <div class="sidebar-profile">
{% if user.user_image %}
    <img src="{{ user.user_image.url }}" alt="í”„ë¡œí•„ ì´ë¯¸ì§€" style="width: 150px; height: 150px; border-radius: 50%;">
{% else %}
    <p>í”„ë¡œí•„ ì´ë¯¸ì§€ ì—†ìŒ</p>
{% endif %}


            <h3>{{ user.nickname }}</h3>
        </div>
        <ul class="sidebar-menu">
            <li><a href="{% url 'logout' %}">ë¡œê·¸ì•„ì›ƒ</a></li>
            <li><a href="{% url 'mypage:mypage' %}">í”„ë¡œí•„</a></li>
            {% if llm %}
                <li><a href="{% url 'mypage:my_ai_models' llm.id %}">My AI models</a></li>
            {% else %}
                <li><a href="#" onclick="return alert('í˜„ì¬ ì»¤ìŠ¤í„°í•œ AI ê°€ ì—†ìŠµë‹ˆë‹¤.')">My AI models</a></li>
            {% endif %}          
              <li style="background-color: rgb(0, 0, 0, 0.2);"><a href="{% url 'mypage:my_voice' %}">voice id ëª©ë¡</a></li>
            <li><a href="{% url 'main' %}">main ìœ¼ë¡œ</a></li>
        </ul>
    </div>

    <div class="main-content">
       <div class="payment-section">
            <div class="payment-header">
                <h3>MY voice</h3>
                <div class="calendar-icon">ğŸ¶</div>
            </div>
            
        <table class="payment-table">
        <thead>
            <tr>
                <th>ë²ˆí˜¸</th>
                <th>ìƒì„± ë‚ ì§œ</th>
                <th>voice ì´ë¦„</th>
                <th>voice id</th>
                <th>ìƒ˜í”Œ ì¬ìƒ</th>
                <th>ë³µì‚¬í•˜ê¸°</th>
            </tr>
        </thead>
        <tbody>
            {% if voice_list %}
                {% for voice in voice_list %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ voice.created_at|date:"Y-m-d H:i" }}</td>
                    <td>{{ voice.voice_name }}</td>
                    <td>{{ voice.voice_id }}</td>
                    <td>
                        {% if voice.sample_url %}
                        <audio controls style="width:150px;">
                            <source src="{{ voice.sample_url }}" type="audio/mpeg">
                            ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¸Œë¼ìš°ì €ì…ë‹ˆë‹¤.
                        </audio>
                        {% else %}
                        ìƒ˜í”Œ ì—†ìŒ
                        {% endif %}
                    </td>
                    <td>
                        <button class="copy-btn" onclick="copyToClipboard('{{ voice.voice_id }}')">ë³µì‚¬</button>
                    </td>
                </tr>
                {% endfor %}
            {% else %}
            <tr>
                <td colspan="6" class="empty-state">ì €ì¥ëœ ìŒì„±ì´ ì—†ìŠµë‹ˆë‹¤.</td>
            </tr>
            {% endif %}
        </tbody>
    </table>


    {% if voice_list.has_other_pages %}
    <div class="pagination">
        {% if voice_list.has_previous %}
            <a href="?page={{ voice_list.previous_page_number }}">&laquo; ì´ì „</a>
        {% else %}
            <span class="disabled">&laquo; ì´ì „</span>
        {% endif %}

        {% for page_num in voice_list.paginator.page_range %}
            {% if page_num == voice_list.number %}
                <span class="current">{{ page_num }}</span>
            {% else %}
                <a href="?page={{ page_num }}">{{ page_num }}</a>
            {% endif %}
        {% endfor %}

        {% if voice_list.has_next %}
            <a href="?page={{ voice_list.next_page_number }}">ë‹¤ìŒ &raquo;</a>
        {% else %}
            <span class="disabled">ë‹¤ìŒ &raquo;</span>
        {% endif %}
    </div>
    {% endif %}
</div>
</body>

 <script src="{% static 'js/mypage/myvoice.js' %}"></script>

</html>


        