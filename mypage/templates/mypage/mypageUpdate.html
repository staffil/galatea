{% load static %}
{% load i18n %}

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% trans "마이페이지 - GALATEA" %}</title>
    <link rel="stylesheet" href="{% static 'css/mypage/mypageUpdate.css' %}">
    <link rel="stylesheet" href="{% static 'css/sidebar.css' %}">
    <link rel="stylesheet" href="{% static 'css/sidebar.css' %}">
</head>
<body>

   <!-- 배경 원형 효과 (distribute.css에서 사용) -->
    <div class="circle-bg circle-1"></div>
    <div class="circle-bg circle-2"></div>
    <div class="circle-bg circle-3"></div>
    <div class="circle-bg circle-4"></div>
    <div class="circle-bg circle-5"></div>

    <!-- 햄버거 메뉴 버튼 (모바일용) -->
    <button class="menu-toggle" onclick="toggleSidebar()">
        <span></span>
        <span></span>
        <span></span>
    </button>

    <!-- 사이드바 오버레이 (모바일용) -->
    <div class="sidebar-overlay" onclick="closeSidebar()"></div>
          {% include "common/sidebar.html" %}


    <div class="main-content">
        <div class="profile-section">
            <h2>{% trans "프로필" %}</h2>
            <div class="profile-main">
                <div>
                    {% if user.user_image %}
                        <img src="{{ user.user_image.url }}" alt="{% trans "프로필 이미지" %}" class="profile-avatar" />
                    {% else %}
                        <div class="profile-avatar">{{ user.nickname|first|default:"U" }}</div>
                    {% endif %}
                </div>

                <form method="POST" action="{% url 'mypage:mypage_update' %}" enctype="multipart/form-data" class="profile-form">
                    {% csrf_token %}
                    <div class="form-group">
                        <label>{% trans "닉네임" %}</label>
                        <input type="nickname" name = 'nickname' value="{{ user.nickname }}"  />
                    </div>
                    <div class="form-group">
                        <label>{% trans "아이디:" %}</label>
                        <input type="text" value="{{ user.username }}" readonly />
                    </div>
                    <div class="form-group">
                        <label>{% trans "이메일:" %}</label>
                        <input type="email" name="email" value="{{ user.email }}" required />
                    </div>
                    <div class="form-group">
                        <label>{% trans "전화번호:" %}</label>
                        <input type="text" name="phonenumber" value="{{ user.phonenumber }}" required />
                    </div>
                    <div class="form-group">
                        <label>{% trans "비밀번호:" %}</label>
                        <input type="password" name="password1" placeholder="{% trans '새 비밀번호' %}" />
                    </div>
                    <div class="form-group">
                        <label>{% trans "비밀번호 확인:" %}</label>
                        <input type="password" name="password2" placeholder="{% trans '비밀번호 확인' %}" />
                    </div>
                    <div class="form-group">
                        <label>{% trans "프로필 이미지:" %}</label>
                        <input type="file" name="user_image" accept="image/*" />
                    </div>
                    <button type="submit" class="submit-btn" onclick="return check()">{% trans "수정완료" %}</button>
                    <a href="{% url 'mypage:mypage' %}">{% trans "이전으로" %}</a>
                </form>
            </div>
        </div>
    </div>
<script src="{% static 'js/sidebar.js' %}"></script>

    <script src="{% static 'js/mypage/mypageUpdate.js' %}"></script>
</body>
</html>
