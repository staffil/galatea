{% load static %}
{% load i18n %}
<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE }}" style="background-color: #3b0d69;">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% trans "마이페이지 - GALATEA" %}</title>
    <link rel="stylesheet" href="{% static 'css/mypage/my_voice.css' %}" />
    <link rel="stylesheet" href="{% static 'css/sidebar.css' %}">
    <link rel="stylesheet" href="{% static 'css/mypage/my_request.css' %}">
    
</head>
<body>
  
<header>
    {% if not user.is_authenticated %}
        {% include "common/notLoginHeader.html" %}
    {% else %}
        {% include "common/loginHeader.html" %}
    {% endif %}
</header>
   <!-- 배경 원형 효과 (distribute.css에서 사용) -->
    <div class="circle-bg circle-1"></div>
    <div class="circle-bg circle-2"></div>
    <div class="circle-bg circle-3"></div>
    <div class="circle-bg circle-4"></div>
    <div class="circle-bg circle-5"></div>

    <!-- 햄버거 메뉴 버튼 (모바일용) -->
    <button class="menu-toggle" onclick="toggleSidebar()">
        <span></span>
        <span></span>
        <span></span>
    </button>

    <!-- 사이드바 오버레이 (모바일용) -->
    <div class="sidebar-overlay" onclick="closeSidebar()"></div>

    {% include "common/sidebar.html" %}
    
    <div class="request-container">
        <h1 class="page-title">{% trans "나의 요청글 목록" %}</h1>
        
        {% if request_list %}
            {% for request in request_list %}
                <div class="request-item">
                    <div class="status-indicator {% if not request.response %}pending{% endif %}"></div>
                    
                    <div class="request-title">{{ request.title }}</div>
                    
                    <div class="request-content">{{ request.content }}</div>
                    
                    <div class="request-response">
                        {% if request.response %}
                            {{ request.response }}
                        {% endif %}
                    </div>
                </div>
            {% endfor %}
        {% else %}
            <div class="empty-message">
                <p>{% trans "아직 요청글이 없습니다." %}</p>
            </div>
        {% endif %}
    </div>

</body>
</html>