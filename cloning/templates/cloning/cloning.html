{% load static %}
{% load i18n %}
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>AI Voice Cloning</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="{% static 'css/cloning/cloning.css' %}" />
</head>
<body>
<header>
    {% if not user.is_authenticated %}
        {% include "common/notLoginHeader.html" %}
    {% else %}
        {% include "common/loginHeader.html" %}
    {% endif %}
</header>

<main class="container">

    <!-- 1️⃣ 동의서 섹션 -->
    <div id="consentSection" class="main-card">
        <h2>📄 음성 클로닝 동의서</h2>
        <textarea readonly rows="10" style="width:100%;">
        <!-- 동의 전문 표시 -->
         {% for cloning in cloning_agreement %}
            1,{{ cloning.voice_text }}
            2,{{ cloning.third_text }}
            3,{{ cloning.share_text }}
         {% endfor %}
      
        </textarea>
        <div style="margin-top:1rem;">
            <input type="checkbox" id="consentVoice" required> 본인 음성 클로닝 동의<br/>
            <input type="checkbox" id="consentThird" required> 타인 음성 사용 책임 인지
            <input type="checkbox" id="consentShare" required> 타인 음성 사용 책임 인지
        </div>
        <button id="agreeBtn" style="margin-top:1rem;">동의하고 시작하기</button>
    </div>

    <!-- 2️⃣ 클로닝 UI 섹션 -->
    <div id="cloningUI" class="main-card" style="display:none;">
        <h1>🎤 {% trans 'AI 목소리 클로닝' %}</h1>

        <div class="form-group">
            <label for="voiceName">🏷️ {% trans '목소리 이름' %}</label>
            <input type="text" id="voiceName" placeholder="나만의 목소리 이름을 입력하세요" />
        </div>

        <div class="form-group">
            <button id="recordBtn">🔴 {% trans '녹음 시작' %}</button>
            <button id="stopBtn" disabled>■ {% trans '녹음 중지' %}</button>
        </div>

        <div class="form-group">
            <audio id="audioPlayback" controls></audio>
        </div>

        <div class="form-group">
            <label for="sampleText">📝 {% trans '샘플 텍스트' %}</label>
            <textarea id="sampleText" rows="5" placeholder="이 텍스트로 클로닝된 목소리를 샘플 재생합니다. 최소 130자 이상 작성해주세요."></textarea>
        </div>

        <div class="button-group">
            <button id="generateSampleBtn" disabled>✨ {% trans '샘플 생성하기' %}</button>
            <button id="retryBtn" disabled>🔄 {% trans '다시 만들기' %}</button>
            <button id="saveBtn" disabled>💾 {% trans '저장하기' %}</button>
        </div>

        <div id="message" style="margin-top: 1rem; color: red;"></div>
    </div>
</main>

<script src="{% static 'js/cloning/cloning.js' %}"></script>


</body>
</html>
