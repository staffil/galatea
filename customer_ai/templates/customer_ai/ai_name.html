{% load static %} 

{% load i18n %}

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% trans 'AI ì´ë¦„ ì…ë ¥' %}</title>
    <link rel="stylesheet" href="{% static 'css/customer_ai/ai_name.css' %}">
</head>


<body>

<header>
    {% if not user.is_authenticated %}
        {% include "common/notLoginHeader.html" %}
    {% else %}
        {% include "common/loginHeader.html" %}
    {% endif %}
</header>

<h1>âœ¨ {% trans 'ë‹¹ì‹ ì˜ AI ì´ë¦„ê³¼ ì‚¬ì§„ì„ ì…ë ¥í•˜ì„¸ìš”'%} âœ¨</h1>

{% if error %}
<div class="error-message">{{ error }}</div>
{% endif %}

<form method="POST" action="{% url 'customer_ai:input_ai_name' %}" enctype="multipart/form-data">
  {% csrf_token %}
  <input type="text" name="llm_name" placeholder="âœï¸ {% trans 'AI ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”' %}" required />
  
  <div class="file-input-wrapper">
    <input type="file" name="user_image" accept="image/*" required id="file-input" />
    <label for="file-input" class="file-input-label" id="file-label">
      <span class="file-icon">ğŸ“·</span>
      <span id="file-text">{% trans 'ì‚¬ì§„ì„ ì„ íƒí•´ì£¼ì„¸ìš”' %}</span>
    </label>
  </div>
  
  <button type="submit">ğŸš€ {% trans 'ì™„ë£Œ' %}</button>
</form>

<script>
// íŒŒì¼ ì„ íƒ ì‹œ ë¼ë²¨ í…ìŠ¤íŠ¸ ë³€ê²½
document.getElementById('file-input').addEventListener('change', function(e) {
  const fileLabel = document.getElementById('file-label');
  const fileText = document.getElementById('file-text');
  
  if (e.target.files.length > 0) {
    const fileName = e.target.files[0].name;
    fileText.textContent = fileName.length > 20 ? fileName.substring(0, 20) + '...' : fileName;
    fileLabel.classList.add('has-file');
  } else {
    fileText.textContent = "{% trans 'ì‚¬ì§„ì„ ì„ íƒí•´ì£¼ì„¸ìš”' %}";
    fileLabel.classList.remove('has-file');
  }
});
</script>

<script src="{% static 'js/customer_ai/ai_name.js' %}"></script>

</body>
</html>