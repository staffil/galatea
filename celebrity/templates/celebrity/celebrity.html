{% load static %} 
{% load i18n %}

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="{% static 'css/celebrity/celebrity.css' %}">

    <title>Celebrity Voice Chat</title>
</head>
<body>
    <!-- í—¤ë” -->
    <header>
        {% if not user.is_authenticated %}
            {% include "common/notLoginHeader.html" %}
        {% else %}
            {% include "common/loginHeader.html" %}
        {% endif %}
    </header>

    <div class="container">
        <!-- ë©”ì¸ ì±„íŒ… ì˜ì—­ -->
        <main class="chat-container">
            <!-- Celebrity ì´ë¯¸ì§€ ì˜ì—­ -->
            <div class="celebrity-image-container">
            {% if celebrity.celebrity_image %}
                <img src="{{ celebrity.celebrity_image.url }}" alt="AI ì´ë¯¸ì§€" style="width: 100%; height: 100%; object-fit: cover; border-radius: 15px;" />
            {% else %}
                <p>{% trans 'ìƒì„±ëœ ì´ë¯¸ì§€ê°€ ì—†ìŠµë‹ˆë‹¤.' %}</p>
            {% endif %}
            </div>

            <div class="chat-header">
                <div class="ai-avatar">ğŸ­</div>
                <h1 class="chat-title">{{ celebrity.celebrity_name }}</h1>
            </div>
              <div class="right-panel">
                <div class="form-group">
                    <label for="language">{% trans 'ì–¸ì–´ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”'%}</label>
                    <div class="custom-select-wrapper">
                        <div class="custom-select">
                            <select name="language" id="language">
                                <option value="en" selected>English</option>
                                <option value="ko">í•œêµ­ì–´</option>
                                <option value="hi">à¤¹à¤¿à¤¨à¥à¤¦à¥€</option>
                                <option value="pt">PortuguÃªs</option>
                                <option value="zh">ä¸­æ–‡</option>
                                <option value="es">EspaÃ±ol</option>
                                <option value="fr">FranÃ§ais</option>
                                <option value="ja">æ—¥æœ¬èª</option>
                                <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                                <option value="ru">Ğ ÑƒÑÑĞºĞ¸Ğ¹</option>
                                <option value="id">Bahasa Indonesia</option>
                                <option value="it">Italiano</option>
                                <option value="nl">Nederlands</option>
                                <option value="tr">TÃ¼rkÃ§e</option>
                                <option value="pl">Polski</option>
                                <option value="sv">Svenska</option>
                                <option value="fil">Filipino</option>
                                <option value="ms">Bahasa Melayu</option>
                                <option value="ro">RomÃ¢nÄƒ</option>
                                <option value="uk">Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°</option>
                                <option value="el">Î•Î»Î»Î·Î½Î¹ÎºÎ¬</option>
                                <option value="cs">ÄŒeÅ¡tina</option>
                                <option value="da">Dansk</option>
                                <option value="fi">Suomi</option>
                                <option value="bg">Ğ‘ÑŠĞ»Ğ³Ğ°Ñ€ÑĞºĞ¸</option>
                                <option value="hr">Hrvatski</option>
                                <option value="sk">SlovenÄina</option>
                                <option value="ta">à®¤à®®à®¿à®´à¯</option>
                            </select>
                        </div>
                    </div>
                </div>
            <p class="chat-subtitle">{% trans 'í…ìŠ¤íŠ¸ë‚˜ ìŒì„±ìœ¼ë¡œ ëŒ€í™”í•´ë³´ì„¸ìš”'%}</p>
            
            <!-- ë©”ì‹œì§€ ì˜ì—­ -->
            <div class="message-area" id="message-area">
                <!-- ë©”ì‹œì§€ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
            </div>
            
            <!-- ì˜¤ë””ì˜¤ í”Œë ˆì´ì–´ -->
            <div class="audio-player" id="audio-container">
                <audio id="tts-audio" controls></audio>
            </div>
            
            <!-- í…ìŠ¤íŠ¸ ì…ë ¥ì°½ -->
            <input type="text" class="text-input" id="text-input" placeholder="{% trans 'í…ìŠ¤íŠ¸ ì…ë ¥' %}" onkeydown="if(event.key === 'Enter'){ sendText(); }">
            
            <!-- ì¸ì‹ëœ í…ìŠ¤íŠ¸ í‘œì‹œ -->
            <p id="recognized-text" class="recognized-text"></p>
            
            <!-- ë§ˆì´í¬ -->
            <div class="record-container">
                <button class="record-button" id="record-btn" onclick="toggleRecording()">
                    <span class="record-icon" id="record-icon">ğŸ¤</span>
                </button>
            </div>
            <div class="record-status" id="record-status">ğŸ™ {% trans 'ë…¹ìŒ ì‹œì‘' %}</div>
        </main>
    </div>

<script src="{% static 'js/celebrity/celebrity.js' %}"></script>
    
</body>
</html>
