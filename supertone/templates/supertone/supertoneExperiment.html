  <h2>ğŸ¤ Supertone ìŒì„± í•©ì„± í…ŒìŠ¤íŠ¸</h2>

  <form method="post" id="tts-form">
    {% csrf_token %}
    <label for="text">ğŸ“„ í…ìŠ¤íŠ¸ ì…ë ¥:</label><br>
    <textarea name="text" required placeholder="ì—¬ê¸°ì— í•œêµ­ì–´ í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."></textarea><br><br>

    <label for="style">ğŸ­ ê°ì • ìŠ¤íƒ€ì¼:</label><br>
    <select name="style">
      <option value="neutral">Neutral</option>
      <option value="happy">Happy</option>
      <option value="sad">Sad</option>
      <option value="angry">Angry</option>
    </select><br><br>

    <button type="submit">ğŸ—£ï¸ í•©ì„± ìš”ì²­</button>
  </form>

  <div id="audio-container" style="display:none;">
    <h3>ğŸ”Š ìƒì„±ëœ ìŒì„±</h3>
    <audio controls id="audio-player"></audio>
  </div>

  <script>
    const form = document.getElementById("tts-form");
    const audioContainer = document.getElementById("audio-container");
    const audioPlayer = document.getElementById("audio-player");

    form.addEventListener("submit", function (e) {
      e.preventDefault();

      const formData = new FormData(form);
      fetch("", {
        method: "POST",
        body: formData,
      })
      .then(res => {
        if (!res.ok) throw new Error("TTS ìš”ì²­ ì‹¤íŒ¨");
        return res.blob();
      })
      .then(blob => {
        const url = URL.createObjectURL(blob);
        audioPlayer.src = url;
        audioContainer.style.display = "block";
        audioPlayer.play();
      })
      .catch(err => {
        alert("ì—ëŸ¬ ë°œìƒ: " + err.message);
      });
    });
  </script>
</body>
</html>