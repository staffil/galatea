"use strict";var h=Object.defineProperty;var v=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var f=Object.prototype.hasOwnProperty;var x=(s,t)=>{for(var e in t)h(s,e,{get:t[e],enumerable:!0})},_=(s,t,e,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of d(t))!f.call(s,n)&&n!==e&&h(s,n,{get:()=>t[n],enumerable:!(i=v(t,n))||i.enumerable});return s};var p=s=>_(h({},"__esModule",{value:!0}),s);var m={};x(m,{getSpringEasing:()=>g});module.exports=p(m);var r=class{constructor(t){typeof t!="function"?(console.warn("Integrator: an integrator must be constructed with an acceleration function"),this._accelerationForState=()=>0):this._accelerationForState=t}integrateState(t,e){let i=this._evaluateState(t),n=this._evaluateStateWithDerivative(t,e*.5,i),o=this._evaluateStateWithDerivative(t,e*.5,n),a=this._evaluateStateWithDerivative(t,e,o),l=1/6*(i.dx+2*(n.dx+o.dx)+a.dx),u=1/6*(i.dv+2*(n.dv+o.dv)+a.dv);return t.x+=l*e,t.v+=u*e,t}_evaluateState(t){return{dx:t.v,dv:this._accelerationForState(t)}}_evaluateStateWithDerivative(t,e,i){let n={x:t.x+i.dx*e,v:t.v+i.dv*e};return{dx:n.v,dv:this._accelerationForState(n)}}};var c=class{constructor(t={}){var e;this.options={stiffness:100,damping:10,velocity:0,tolerance:.01},this._cacheValue={},this._velocity=(e=t.velocity)!==null&&e!==void 0?e:0,this.options={...this.options,...t},this._integrator=new r(i=>-this.options.stiffness*i.x-this.options.damping*i.v),this.totalDuration=this.getValue().time}next(t,e,i){let n={x:t-1,v:e},o=this._integrator.integrateState({...n},i),a=this.checkFinished(o.x,o.v);return{value:1+o.x,velocity:o.v,finished:a}}checkFinished(t,e){let i=Math.abs(t)<this.options.tolerance,n=Math.abs(e)<this.options.tolerance;return i&&n}getValue({endTime:t}={endTime:1/0}){let e=0,i=0,n=this._velocity,o=!1,a=1/60;for(;!(o||e>t);)e+=a,this._cacheValue[e]?{value:i,velocity:n,finished:o}=this._cacheValue[e]:({value:i,velocity:n,finished:o}=this.next(i,n,a),this._cacheValue[e]={value:i,velocity:n,finished:o});return{value:i,time:e}}getEaseFunction(){return t=>t<=0?0:t>=1?1:this.getValue({endTime:t*this.totalDuration}).value}};function g({stiffness:s=100,damping:t=10,mass:e=1,velocity:i=0}){let n=new c({stiffness:s,damping:t,mass:e,velocity:i}),o=n.totalDuration,a=n.getEaseFunction();return{duration:o,easeFunction:a}}
