"use strict";import{jsx as e,Fragment as v,jsxs as h}from"react/jsx-runtime";import{WebView as w}from"@granite-js/native/react-native-webview";import{useBackEventContext as b}from"@granite-js/react-native";import{forwardRef as d,useCallback as x,useRef as s}from"react";import{mergeRefs as C}from"../../utils/mergeRefs.js";import{NavigationBackButton as N,NavigationLeft as j,useBackOrCloseNavigation as G}from"../navigation/index.js";import{TopNavigation as P}from"../top-navigation/TopNavigation.js";export const PartnerWebViewScreen=d(function({header:f,onNavigationStateChange:u,...B},l){const{withBackButton:k=!0,...m}=f,o=s(!1),r=b(),n=s(null),g=C(l,n),a=!r.hasBackEvent,c=r.onBack,i=G(),p=x(function(){if(!a){c();return}if(n.current!=null&&o.current){n.current?.goBack();return}i()},[a,c,i]);return h(v,{children:[e(P,{...m,children:e(j,{visible:k,children:e(N,{onPress:p,canGoBack:!1})})}),e(w,{ref:g,...B,onNavigationStateChange:t=>{o.current=t.canGoBack,u?.(t)},style:{flex:1}})]})});
