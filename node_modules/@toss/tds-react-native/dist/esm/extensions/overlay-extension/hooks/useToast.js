"use strict";import{jsx as o}from"react/jsx-runtime";import{useOverlay as E}from"../../../core/index.js";import{useCallback as f,useEffect as I,useMemo as O}from"react";import{Toast as n}from"../../../components/toast/index.js";export function useToast(a={}){const e=E(),s=f(()=>e.close(),[e]),c=f((m,{duration:P,button:t,type:p="bottom",lottie:l,icon:u,iconType:d,onExited:x,onClose:y,...h}={})=>e.open(({isOpen:v,exit:C,close:b})=>{const j=()=>{y?.(),b()};return o(n,{...h,text:m,open:v,position:p,button:t?o(n.Button,{onPress:t.onPress,children:t.text}):void 0,icon:l?o(n.LottieIcon,{src:l,style:{borderRadius:d==="circle"?9999:void 0,overflow:"hidden"}}):u?o(n.Icon,{name:u,type:d==="circle"?"circle":"default"}):void 0,onClose:j,onExited:()=>{x?.(),C()}})}),[e]),r=O(()=>({close:s,open:c}),[s,c]),{closeOnDestroy:i=!0}=a;return I(()=>()=>{i&&r?.close()},[i,r]),r}
