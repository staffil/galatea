"use strict";import{jsx as o,jsxs as t,Fragment as v}from"react/jsx-runtime";import{useNavigation as b}from"@granite-js/native/@react-navigation/native";import{closeView as T}from"@granite-js/react-native";import{colors as c}from"@toss/tds-colors";import{useLayoutEffect as k}from"react";import{View as a}from"react-native";import{Navigation as F,NavigationBackButton as N,NavigationContent as P,NavigationLeft as w,NavigationRight as _,NavigationTitleIcon as y,NavigationTitleText as x}from"../navigation/index.js";import{tdsEvent as E}from"../partner-navigation/event.js";import{IconButton as C}from"./IconButton.js";const h=157,I=h+44+4;export function TopNavigation({title:r,icon:n,onPressTitle:i,onPressDots:e,onPressClose:d,fixedRightButton:l,children:g,withHome:u=!1,contentVisible:m=!0,theme:s="light"}){const p=b(),f=p.canGoBack();return k(()=>{if(!m){p.setOptions({headerBackVisible:!1,headerTitle:()=>null,headerLeft:()=>null});return}},[m,p]),t(F,{children:[m&&t(v,{children:[o(w,{children:o(N,{theme:s,canGoBack:f})}),t(P,{onPressTitle:i,horizontalSafeMargin:l!=null?I:h,withHome:u,theme:s,children:[o(y,{...n}),r!=null&&o(x,{theme:s,children:r}),u&&o(y,{name:"icon-home-mono"})]})]}),o(_,{children:o(NavigationRightContent,{fixedRightButton:l,onPressDots:e,onPressClose:d,theme:s})}),g]})}export const COLOR_PALETTE={light:{titleTextColor:"#191F28",backgroundColor:c.greyOpacity50,iconTintColor:c.greyOpacity600,dividerColor:c.greyOpacity200},dark:{titleTextColor:"#FFFFFF",backgroundColor:"rgba(2, 3, 7, 0.58)",iconTintColor:"rgba(253, 253, 255, 0.75))",dividerColor:c.greyOpacity200}};export function NavigationRightContent({fixedRightButton:r,onPressDots:n,onPressClose:i,theme:e="light",...d}){const{style:l,...g}=d;return t(a,{style:[{flexDirection:"row",gap:4},l],...g,children:[r!=null&&o(a,{style:{borderRadius:99,overflow:"hidden"},children:o(C,{name:r.icon.name??"",accessibilityLabel:r.title,onPress:()=>{r.onPress?.(),E.emit("navigationAccessoryEvent",{id:r.id})},style:{paddingVertical:7,paddingHorizontal:12,backgroundColor:COLOR_PALETTE[e].backgroundColor},color:COLOR_PALETTE[e].iconTintColor,disabled:r.disabled})}),o(CloseWithDotsMono,{onPressDots:n,onPressClose:i,theme:e})]})}export function CloseWithDotsMono({onPressDots:r,onPressClose:n=T,theme:i="light"}){return o(a,{style:{borderRadius:99,overflow:"hidden"},children:t(a,{style:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:12,height:34,paddingHorizontal:12,backgroundColor:COLOR_PALETTE[i].backgroundColor},children:[o(C,{name:"icon-dots-mono",accessibilityLabel:"\uB354\uBCF4\uAE30",onPress:r,color:COLOR_PALETTE[i].iconTintColor}),o(a,{style:{width:1,height:16,backgroundColor:COLOR_PALETTE[i].dividerColor}}),o(C,{name:"icon-appsintoss-close-mono",accessibilityLabel:"\uB2EB\uAE30",color:COLOR_PALETTE[i].iconTintColor,onPress:()=>{n()}})]})})}
