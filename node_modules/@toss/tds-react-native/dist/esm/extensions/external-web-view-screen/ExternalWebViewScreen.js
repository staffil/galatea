"use strict";import{jsx as e,jsxs as n,Fragment as h}from"react/jsx-runtime";import{WebView as v}from"@granite-js/native/react-native-webview";import{forwardRef as k,useCallback as x,useRef as l}from"react";import{View as N}from"react-native";import{mergeRefs as p}from"../../utils/mergeRefs.js";import{Navigation as w,NavigationBackButton as b,NavigationBackdrop as C,NavigationCenter as R,NavigationCloseButton as V,NavigationLeft as j,NavigationRight as y,NavigationTitleIcon as G,NavigationTitleText as S,useBackOrCloseNavigation as T}from"./Navigation.js";export const ExternalWebViewScreen=k(function({header:s={},onNavigationStateChange:f,...u},g){const{title:a,icon:o,withBackButton:m=!1}=s,r=l(!1),t=l(null),B=p(g,t),c=T(),d=x(function(){if(t.current!=null&&r.current){t.current?.goBack();return}c()},[c]);return n(h,{children:[n(w,{children:[e(j,{visible:m,children:e(b,{onPress:d,canGoBack:!1})}),n(R,{children:[o!=null&&e(G,{...o}),a!=null&&e(S,{children:a})]}),e(y,{children:e(V,{})})]}),n(N,{style:{display:"flex",flexDirection:"column",flex:1,position:"relative"},children:[e(C,{}),e(v,{ref:B,...u,onNavigationStateChange:i=>{r.current=i.canGoBack,f?.(i)},style:{flex:1}})]})]})});
