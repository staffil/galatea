"use strict";import{jsx as i,jsxs as b}from"react/jsx-runtime";import{useAdaptive as C}from"../../core/index.js";import{Txt as M}from"../../components/txt/index.js";import{useCallback as A,useMemo as R}from"react";import{Pressable as I,StyleSheet as j,View as p}from"react-native";import{FLUID_TAB_ITEM_HORIZONTAL_MARGIN as B,TAB_ITEM_HORIZONTAL_MARGIN as H}from"./const.js";import{Gradient as L}from"./Gradient.js";import{useTabs as N}from"./TabsContext.js";function O({redBean:f=!1,value:t,children:g,style:h,onPress:l,tabIndex:e}){const{fluid:a,value:c,onChange:u,pagerViewRef:r,setTabWidthMap:m}=N(),n=R(()=>t===c,[t,c]),d=C(),y=A(s=>{l?.(s),u?.(t,e),e!=null&&r?.current!=null&&r.current.setPage(e)},[u,l,r,e,t]);return b(I,{accessibilityRole:"tab",accessibilityState:{selected:n},onPress:y,style:[o.container,a?o.fluidContainer:{},h],onLayout:s=>{const T=s.nativeEvent.layout;m!=null&&e!=null&&m(_=>({..._,[e]:T}))},children:[i(M,{numberOfLines:1,ellipsizeMode:"clip",typography:"st9",fontWeight:n?"bold":"semiBold",color:n?d.grey800:d.grey600,children:g}),a?null:i(p,{style:o.gradientContainer,children:i(L,{})}),f?i(p,{style:o.redBean}):null]})}const V=40,o=j.create({container:{flex:1,alignItems:"center",justifyContent:"center",paddingVertical:12,minWidth:V,marginHorizontal:H},fluidContainer:{marginHorizontal:B},gradientContainer:{position:"absolute",top:0,right:-1,height:"100%"},redBean:{position:"absolute",top:4,right:0,width:6,height:6,borderRadius:3,backgroundColor:"#f44336"}});export{O as TabItem};
