"use strict";import{jsx as d}from"react/jsx-runtime";import{useCallback as f,useMemo as C,useRef as h,useState as p}from"react";import{useControlled as D}from"../../utils/index.js";import{IndicatorProvider as M}from"./IndicatorProvider.js";import{TabItem as P}from"./TabItem.js";import{TabsContext as j}from"./TabsContext.js";import{TabsList as R}from"./TabsList.js";import{TabsViewList as S}from"./TabsViews.js";import{TabView as k}from"./TabView.js";import{getTabData as y}from"./utils/getTabData.js";function e({fluid:u,defaultValue:s,value:c,children:a,onChange:m}){const[T,l]=D({controlledValue:c,defaultValue:s}),x=h(null),[I,v]=p({}),n=C(()=>y(a),[a]),b=n.findIndex(t=>t.value===s),[V,g]=p(b),i=f((t,o)=>{m?.(t,o),l(t),g(o)},[m,l]),w=f(t=>{const o=t.nativeEvent.position,r=n.find(L=>L.tabIndex===o);r!=null&&i(r.value,r.tabIndex)},[i,n]);return d(j.Provider,{value:{fluid:u,value:T,tabLayoutMap:I,setTabWidthMap:v,onChange:i,onPageSelected:w,initialTabIndex:b,pagerViewRef:x,tabIndex:V},children:d(M,{children:a})})}e.TabList=R,e.TabItem=P,e.ViewList=S,e.View=k;export{e as Tabs};
