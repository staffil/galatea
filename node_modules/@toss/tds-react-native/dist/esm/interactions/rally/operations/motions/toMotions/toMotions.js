"use strict";import{objectEntries as E}from"@toss/utils";import{defaultStyles as f}from"../../../constants/property.js";import{getHeight as c}from"../properties/height.js";import{getOpacity as b}from"../properties/opacity.js";import{getPerspective as m}from"../properties/perspective.js";import{getRotate as l}from"../properties/rotate.js";import{getScale as p}from"../properties/scale.js";import{getTransformOriginX as g}from"../properties/transformOriginX.js";import{getTransformOriginY as V}from"../properties/transformOriginY.js";import{getTranslateX as u}from"../properties/translateX.js";import{getTranslateY as h}from"../properties/translateY.js";import{getWidth as k}from"../properties/width.js";export function toMotions(d,r){const s=[];for(const[X,{easing:Y,duration:O,delay:T,...w}]of d.entries()){const v=s[X-1],n={};for(const[i,o]of E(w)){const t=v?.[i]?.to;let e=o?.from??t??f[i],a=o?.to;switch(i){case"color":case"backgroundColor":{e=e??t??f[i],a=o?.to??f[i];break}case"opacity":{e=b(e,{beforeValue:t??0}),a=b(a??1,{beforeValue:e});break}case"rotateX":case"rotateY":case"rotateZ":case"rotate":{e=l(e,{beforeValue:typeof t=="number"?t:0}),a=l(o?.to??0,{beforeValue:e});break}case"perspective":{e=m(e,{beforeValue:t??0,layout:r}),a=m(o?.to??0,{beforeValue:e,layout:r});break}case"scaleY":case"scaleX":case"scale":{e=p(e,{beforeValue:t??1}),a=p(o?.to??1,{beforeValue:e});break}case"translateX":{e=u(e,{beforeValue:t??0,layout:r}),a=u(o?.to,{beforeValue:e,layout:r});break}case"translateY":{e=h(e,{beforeValue:t??0,layout:r}),a=h(o?.to,{beforeValue:e,layout:r});break}case"width":{e=k(e??r.width,{beforeValue:t??0,layout:r}),a=k(o?.to??r.width,{beforeValue:e,layout:r});break}case"height":{e=c(e??r.height,{beforeValue:t??0,layout:r}),a=c(o?.to??r.height,{beforeValue:e,layout:r});break}case"transformOriginX":{e=g(e,{beforeValue:t??0,layout:r}),a=g(o?.to,{beforeValue:e,layout:r});break}case"transformOriginY":{e=V(e,{beforeValue:t??0,layout:r}),a=V(o?.to,{beforeValue:e,layout:r});break}}const D={...o,easing:o?.easing??Y,duration:o?.duration??O,delay:o?.delay??T??0,from:e,to:a};n[i]=D}s.push(n)}return s}
