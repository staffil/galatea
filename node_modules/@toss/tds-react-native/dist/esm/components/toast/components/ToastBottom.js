"use strict";import{jsx as r,jsxs as p}from"react/jsx-runtime";import{useKeyboardAnimatedHeight as H}from"@granite-js/react-native";import{useState as W}from"react";import{Platform as Y,Pressable as I,StyleSheet as R,useWindowDimensions as _,View as n}from"react-native";import{colors as a}from"@toss/tds-colors";import{useColorPreference as z,useTypographyTheme as G}from"../../../core/index.js";import{Animated as f}from"../../../interactions/animated/index.js";import{useAnimatePresence as V,useSafeAreaBottom as E}from"../../../utils/index.js";import{Txt as F}from"../../txt/index.js";import{useTextLine as K,useTimer as q,useToastAnimation as J}from"../hooks/index.js";const M=f.createAnimatedComponent(I);export const ToastBottom=({open:y,text:u,icon:i,button:e,duration:x=e?5:3,bottomOffset:s=20,onClose:l,onExited:w=()=>{},onEntered:T=()=>{}})=>{const{width:S}=_(),[c,A]=W(),m=E(),L=c?s+c+m:void 0,b=H(),{textLine:P,updateTextLine:k}=K(),{colorPreference:j}=z(),{typographyLevel:d}=G(),t=Y.OS==="android"?d>200:d?.startsWith("A11y_x"),{enter:v,exit:B,animatedStyle:h}=J({position:"bottom",initialY:L}),{presenceState:C}=V(y,{enter:v,exit:B,onExited:w,onEntered:T});return q({duration:x,callback:l}),C==="invisible"?null:p(M,{onPress:l,onLayout:D=>{A(D.nativeEvent.layout.height)},style:[o.container,{opacity:h.opacity,transform:[{translateY:f.subtract(h.transform[0]?.translateY??0,b)}]},{flexDirection:t?"column":"row",alignItems:t?"flex-start":"center",gap:t?10:0,width:e?S-g*2:"auto",bottom:s+m,paddingLeft:i?16:20,paddingRight:e?14:20,borderRadius:P==="single"?100:20,backgroundColor:j==="light"?a.grey500:a.darkThemeGrey200}],children:[p(n,{style:[o.iconTextContainer,t?{width:"100%"}:{flexGrow:e?1:0,width:e?0:"auto"}],children:[i&&r(n,{style:o.icon,children:i}),r(F,{onTextLayout:k,typography:"t6",fontWeight:"semiBold",color:a.white,children:u})]}),e?r(n,{style:o.button,children:e}):null]})};const g=20,o=R.create({container:{position:"absolute",alignSelf:"center",zIndex:100,flexDirection:"row",paddingVertical:14,marginHorizontal:g},iconTextContainer:{flexDirection:"row",alignItems:"center"},icon:{marginRight:12},button:{marginLeft:20,flexShrink:0}});
