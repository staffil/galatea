"use strict";import{useCallback as c,useEffect as i,useRef as n}from"react";export function useAccelerateInterval(u,a){const e=n(),r=n(),o=n(0);i(()=>{r.current=u},[u]),i(()=>()=>{e.current&&clearTimeout(e.current)},[]);const t=c(({startMs:l,interval:f,minMs:s}=a)=>{e.current&&clearTimeout(e.current),e.current=setTimeout(()=>{r.current&&(r.current(),o.current+=1),t({startMs:l*f,interval:f,minMs:s})},Math.max(l,s))},[a]),m=c(()=>{o.current=0,e.current||t()},[t]),I=c(()=>{e.current&&(clearInterval(e.current),e.current=void 0)},[]);return{startInterval:m,stopInterval:I}}
