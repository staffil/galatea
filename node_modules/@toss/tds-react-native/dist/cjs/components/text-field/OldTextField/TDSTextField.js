"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TDSTextField=void 0;const jsx_runtime_1=require("react/jsx-runtime"),react_1=require("react"),react_native_1=require("react-native"),index_js_1=require("../../../core/index.js"),index_js_2=require("../../icon/index.js"),hooks_js_1=require("./hooks.js"),TDSTextFieldContainer_js_1=require("./TDSTextFieldContainer.js"),TDSTextFieldContent_js_1=require("./TDSTextFieldContent.js"),utils_js_1=require("./utils.js"),TDS_COMMON_INPUT_ACCESSORY_VIEW_ID="TDSCommonInputAccessoryViewID";exports.TDSTextField=(0,react_1.forwardRef)(function({label:_,helpText:j,error:s,size:n,style:S,disabled:e=!1,leftItem:i,rightItem:l,onFocus:p,onBlur:f,placeholder:y,editable:c=!0,clearable:h=!1,textInputStyle:D,value:o,onClear:F,contentStyle:g,...a},C){const[t,u]=(0,react_1.useState)(!1),d=o!=null&&o.length>0,m=(0,utils_js_1.getState)({disabled:e,focus:t,error:s}),x=(0,hooks_js_1.useElementStyle)(n,m),T=(0,index_js_1.useAdaptive)(),{typography:q}=(0,index_js_1.useTypographyTheme)(),I=(c?d&&t:d)&&h;return(0,jsx_runtime_1.jsx)(TDSTextFieldContainer_js_1.TDSTextFieldContainer,{label:_,helpText:j,error:s,focus:t,size:n,style:S,disabled:e,children:(0,jsx_runtime_1.jsxs)(TDSTextFieldContent_js_1.TDSTextFieldContent,{disabled:e,focus:t,error:s,size:n,leftItem:i,rightItem:l,style:g,children:[(0,jsx_runtime_1.jsx)(react_native_1.TextInput,{allowFontScaling:!1,style:[{flex:1,marginLeft:i?8:0,marginRight:l?8:0,textAlignVertical:"center",padding:0,fontSize:q.st10.fontSize},x.input,{color:x.input.color},D],ref:C,placeholder:y,placeholderTextColor:T.grey500,editable:!!(c&&!e),onFocus:r=>{u(!0),p?.(r)},onBlur:r=>{u(!1),f?.(r)},value:o,...a,inputAccessoryViewID:a.inputAccessoryViewID??TDS_COMMON_INPUT_ACCESSORY_VIEW_ID}),I?(0,jsx_runtime_1.jsx)(react_native_1.Pressable,{accessibilityRole:"button",onPress:()=>{F?.()},children:(0,jsx_runtime_1.jsx)(index_js_2.Icon,{color:T.grey400,name:"icn-delete",size:20})}):null]})})});
