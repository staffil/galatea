"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ToastBottom=void 0;const jsx_runtime_1=require("react/jsx-runtime"),react_native_1=require("@granite-js/react-native"),react_1=require("react"),react_native_2=require("react-native"),tds_colors_1=require("@toss/tds-colors"),index_js_1=require("../../../core/index.js"),index_js_2=require("../../../interactions/animated/index.js"),index_js_3=require("../../../utils/index.js"),index_js_4=require("../../txt/index.js"),index_js_5=require("../hooks/index.js"),AnimatedPressable=index_js_2.Animated.createAnimatedComponent(react_native_2.Pressable),ToastBottom=({open:l,text:d,icon:i,button:e,duration:u=e?5:3,bottomOffset:n=20,onClose:o,onExited:x=()=>{},onEntered:m=()=>{}})=>{const{width:h}=(0,react_native_2.useWindowDimensions)(),[r,g]=(0,react_1.useState)(),s=(0,index_js_3.useSafeAreaBottom)(),y=r?n+r+s:void 0,_=(0,react_native_1.useKeyboardAnimatedHeight)(),{textLine:p,updateTextLine:j}=(0,index_js_5.useTextLine)(),{colorPreference:f}=(0,index_js_1.useColorPreference)(),{typographyLevel:a}=(0,index_js_1.useTypographyTheme)(),t=react_native_2.Platform.OS==="android"?a>200:a?.startsWith("A11y_x"),{enter:w,exit:T,animatedStyle:c}=(0,index_js_5.useToastAnimation)({position:"bottom",initialY:y}),{presenceState:q}=(0,index_js_3.useAnimatePresence)(l,{enter:w,exit:T,onExited:x,onEntered:m});return(0,index_js_5.useTimer)({duration:u,callback:o}),q==="invisible"?null:(0,jsx_runtime_1.jsxs)(AnimatedPressable,{onPress:o,onLayout:v=>{g(v.nativeEvent.layout.height)},style:[styles.container,{opacity:c.opacity,transform:[{translateY:index_js_2.Animated.subtract(c.transform[0]?.translateY??0,_)}]},{flexDirection:t?"column":"row",alignItems:t?"flex-start":"center",gap:t?10:0,width:e?h-marginHorizontal*2:"auto",bottom:n+s,paddingLeft:i?16:20,paddingRight:e?14:20,borderRadius:p==="single"?100:20,backgroundColor:f==="light"?tds_colors_1.colors.grey500:tds_colors_1.colors.darkThemeGrey200}],children:[(0,jsx_runtime_1.jsxs)(react_native_2.View,{style:[styles.iconTextContainer,t?{width:"100%"}:{flexGrow:e?1:0,width:e?0:"auto"}],children:[i&&(0,jsx_runtime_1.jsx)(react_native_2.View,{style:styles.icon,children:i}),(0,jsx_runtime_1.jsx)(index_js_4.Txt,{onTextLayout:j,typography:"t6",fontWeight:"semiBold",color:tds_colors_1.colors.white,children:d})]}),e?(0,jsx_runtime_1.jsx)(react_native_2.View,{style:styles.button,children:e}):null]})};exports.ToastBottom=ToastBottom;const marginHorizontal=20,styles=react_native_2.StyleSheet.create({container:{position:"absolute",alignSelf:"center",zIndex:100,flexDirection:"row",paddingVertical:14,marginHorizontal},iconTextContainer:{flexDirection:"row",alignItems:"center"},icon:{marginRight:12},button:{marginLeft:20,flexShrink:0}});
