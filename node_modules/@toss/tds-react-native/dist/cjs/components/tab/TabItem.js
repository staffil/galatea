"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TabItem=TabItem;const jsx_runtime_1=require("react/jsx-runtime"),tds_easings_1=require("@toss/tds-easings"),react_1=require("react"),react_native_1=require("react-native"),index_js_1=require("../../core/index.js"),index_js_2=require("../../interactions/animated/index.js"),index_js_3=require("../txt/index.js"),IndicatorContext_js_1=require("./IndicatorContext.js"),TabContext_js_1=require("./TabContext.js");function TabItem({redBean:n=!1,value:t,children:r,style:h,onPress:u}){const{size:d,fluid:g,value:x,onChange:p}=(0,react_1.useContext)(TabContext_js_1.TabContext),o=(0,react_1.useRef)(new index_js_2.Animated.Value(1)).current,s=(0,react_1.useMemo)(()=>t===x,[t,x]),f=(0,index_js_1.useAdaptive)(),_=(0,react_1.useCallback)(l=>{u?.(l),p?.(t)},[u,p,t]),e=getSpacingStyles({size:d,fluid:g}),[i,b]=(0,react_1.useState)(),{setWidth:a,setTranslateX:c}=(0,react_1.useContext)(IndicatorContext_js_1.IndicatorContext);return(0,react_1.useEffect)(()=>{!s||i==null||c==null||a==null||(c(i.x+e.left),a(i.width-(e.left+e.right)))},[s,i,c,a,e.left,e.right]),(0,jsx_runtime_1.jsxs)(react_native_1.Pressable,{accessibilityRole:"tab",accessibilityState:{selected:s},onPress:_,style:[styles.container,{paddingTop:e.top,paddingBottom:e.bottom,paddingHorizontal:e.left,minWidth:g?64:void 0},h],onLayout:l=>{b(l.nativeEvent.layout)},onPressIn:()=>{index_js_2.Animated.spring(o,{toValue:.96,useNativeDriver:!0,...tds_easings_1.spring.rapid}).start()},onPressOut:()=>{index_js_2.Animated.spring(o,{toValue:1,useNativeDriver:!0,...tds_easings_1.spring.quick}).start()},children:[(0,jsx_runtime_1.jsx)(index_js_2.Animated.View,{style:[styles.innerContainer,{transform:[{scale:o}]}],children:(0,jsx_runtime_1.jsx)(index_js_3.Txt,{numberOfLines:1,ellipsizeMode:"clip",typography:d==="large"?"t5":"t6",fontWeight:s?"bold":"semiBold",color:s?f.grey800:f.grey600,children:r})}),n?(0,jsx_runtime_1.jsx)(react_native_1.View,{style:styles.redBean}):null]})}const styles=react_native_1.StyleSheet.create({container:{flex:1},innerContainer:{alignItems:"center",justifyContent:"center"},redBean:{position:"absolute",top:4,right:0,width:6,height:6,borderRadius:3,backgroundColor:"#f44336"}}),getSpacingStyles=({size:n,fluid:t})=>{const r=n==="large"&&t?12:8;return{top:n==="large"?12:8,bottom:n==="large"?14:8,left:r,right:r}};
