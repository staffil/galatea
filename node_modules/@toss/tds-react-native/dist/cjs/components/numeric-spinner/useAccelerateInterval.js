"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useAccelerateInterval=useAccelerateInterval;const react_1=require("react");function useAccelerateInterval(c,u){const e=(0,react_1.useRef)(),r=(0,react_1.useRef)(),n=(0,react_1.useRef)(0);(0,react_1.useEffect)(()=>{r.current=c},[c]),(0,react_1.useEffect)(()=>()=>{e.current&&clearTimeout(e.current)},[]);const t=(0,react_1.useCallback)(({startMs:a,interval:s,minMs:l}=u)=>{e.current&&clearTimeout(e.current),e.current=setTimeout(()=>{r.current&&(r.current(),n.current+=1),t({startMs:a*s,interval:s,minMs:l})},Math.max(a,l))},[u]),o=(0,react_1.useCallback)(()=>{n.current=0,e.current||t()},[t]),f=(0,react_1.useCallback)(()=>{e.current&&(clearInterval(e.current),e.current=void 0)},[]);return{startInterval:o,stopInterval:f}}
