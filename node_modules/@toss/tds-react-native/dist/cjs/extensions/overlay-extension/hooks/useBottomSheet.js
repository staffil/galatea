"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useBottomSheet=useBottomSheet;const jsx_runtime_1=require("react/jsx-runtime"),index_js_1=require("../../../core/index.js"),index_js_2=require("../../../components/bottom-sheet/index.js"),react_1=require("react"),CapturePress_js_1=require("../components/CapturePress.js"),react_native_1=require("react-native");function useBottomSheet(u={}){const e=(0,index_js_1.useOverlay)(),o=(0,react_1.useCallback)(()=>e.close(),[e]),n=(0,react_1.useCallback)(({header:i,cta:t,onExited:l,onClose:a,..._})=>e.open(({isOpen:d,exit:j,close:x})=>{const r=()=>{a?.(),x()};return(0,jsx_runtime_1.jsx)(index_js_2.BottomSheet.Root,{..._,header:i,open:d,cta:(0,react_1.isValidElement)(t)?(0,jsx_runtime_1.jsx)(CapturePress_js_1.CapturePress,{onPress:r,children:t}):(0,jsx_runtime_1.jsx)(react_native_1.Pressable,{onPress:r,children:t}),onClose:r,onExited:()=>{l?.(),j()}})}),[e]),s=(0,react_1.useMemo)(()=>({close:o,open:n}),[o,n]),{closeOnDestroy:c=!0}=u;return(0,react_1.useEffect)(()=>()=>{c&&s?.close()},[c,s]),s}
