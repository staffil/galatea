"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useDialog=useDialog;const jsx_runtime_1=require("react/jsx-runtime"),react_1=require("react"),index_js_1=require("../../../components/dialog/index.js"),index_js_2=require("../../../core/index.js");function useDialog(j={}){const n=(0,index_js_2.useOverlay)(),f=(0,react_1.useCallback)(()=>{n.close()},[n]),{closeOnDestroy:d=!0}=j,m=(0,react_1.useCallback)(({closeOnDimmerClick:s=!1,onEntered:r,onButtonPress:c,...u})=>new Promise(i=>{n.open(({isOpen:o,close:e,exit:t})=>(0,jsx_runtime_1.jsx)(index_js_1.AlertDialog,{...u,open:o,onEntered:r,onClose:()=>{i(),e()},onButtonPress:()=>{c?.(),i(),e()},onExited:()=>{t()},closeOnDimmerClick:s}))}),[n]),x=(0,react_1.useCallback)(({rightButton:s="\uD655\uC778",leftButton:r="\uCDE8\uC18C",closeOnDimmerClick:c=!1,onEntered:u,...i})=>{const o=typeof s=="string"?(0,jsx_runtime_1.jsx)(index_js_1.ConfirmDialog.Button,{children:s}):s,e=typeof r=="string"?(0,jsx_runtime_1.jsx)(index_js_1.ConfirmDialog.Button,{children:r}):r;return new Promise(t=>{n.open(({isOpen:C,close:a,exit:_})=>(0,jsx_runtime_1.jsx)(index_js_1.ConfirmDialog,{...i,open:C,onEntered:u,onClose:()=>{t(!1),a()},onExited:()=>{_()},rightButton:(0,react_1.cloneElement)(o,{...o.props,onPress:p=>{t(!0),o.props.onPress===void 0?a():o.props.onPress(p)}}),leftButton:(0,react_1.cloneElement)(e,{...e.props,type:"dark",style:"weak",onPress:p=>{t(!1),e.props.onPress===void 0?a():e.props.onPress(p)}}),closeOnDimmerClick:c}))})},[n]),l=(0,react_1.useMemo)(()=>({close:f,openAlert:m,openConfirm:x}),[f,m,x]);return(0,react_1.useEffect)(()=>()=>{d&&l?.close()},[d,l]),l}
