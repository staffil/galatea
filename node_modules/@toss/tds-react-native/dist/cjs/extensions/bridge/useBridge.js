"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useBridge=useBridge;const jsx_runtime_1=require("react/jsx-runtime"),react_1=require("react"),index_js_1=require("../../core/index.js"),Bridge_js_1=require("./Bridge.js");function useBridge({closeOnDestroy:n=!0}={}){const e=(0,react_1.useRef)(),r=(0,index_js_1.useOverlay)(),t=(0,react_1.useCallback)(()=>r.close(),[r]),o=(0,react_1.useCallback)(({onExited:u,onClose:i,color:l,...c})=>{e.current&&clearTimeout(e.current),e.current=setTimeout(()=>{r.open(({isOpen:d,exit:_,close:j})=>{const m=()=>{i?.(),j()};return(0,jsx_runtime_1.jsx)(index_js_1.ThemeProvider,{token:{color:{primary:l}},children:(0,jsx_runtime_1.jsx)(Bridge_js_1.Bridge,{open:d,onClose:m,onExited:()=>{u?.(),_()},...c})})});const a=c.variant==="basic"?2e3:2300;e.current=setTimeout(()=>{t()},a)},200)},[t,r]),s=(0,react_1.useMemo)(()=>({close:t,open:o}),[t,o]);return(0,react_1.useEffect)(()=>()=>{n&&s?.close()},[n,s]),s}
